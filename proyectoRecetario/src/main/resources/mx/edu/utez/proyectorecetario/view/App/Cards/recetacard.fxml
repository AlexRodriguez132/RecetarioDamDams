<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.layout.Pane?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.layout.FlowPane?>

<StackPane xmlns="http://javafx.com/javafx/17.0.12"
           xmlns:fx="http://javafx.com/fxml/1"
           fx:controller="mx.edu.utez.proyectorecetario.controller.RecetaCardController"
           prefWidth="300" prefHeight="450"
           stylesheets="@../../../css/card.css" styleClass="card">

    <VBox spacing="6" styleClass="card">
        <StackPane fx:id="contenedorImagen" prefWidth="300" prefHeight="200" minWidth="300" minHeight="200" maxWidth="300" maxHeight="200">
            <ImageView fx:id="imgReceta" fitWidth="300" fitHeight="200" pickOnBounds="true" preserveRatio="false" smooth="true"/>
        </StackPane>

        <Label fx:id="lblTitulo" styleClass="titulo-card" wrapText="true" maxHeight="20">
            <VBox.margin>
                <Insets left="10" top="5"/>
            </VBox.margin>
        </Label>

        <HBox fx:id="boxCategorias" spacing="6" prefWidth="300">
            <VBox.margin>
                <Insets left="10"/>
            </VBox.margin>
        </HBox>

        <Label fx:id="lblDescripcion" wrapText="true" maxHeight="50" prefHeight="50" alignment="TOP_LEFT" styleClass="texto-descripcion">
            <VBox.margin>
                <Insets left="10" top="5"/>
            </VBox.margin>
        </Label>

        <HBox spacing="10">
            <ImageView  fitWidth="20" fitHeight="20">
                <Image url="@../../../images/recetas/reloj.png"/>
                <HBox.margin>
                    <Insets left="8"/>
                </HBox.margin>
            </ImageView>
            <Label fx:id="lblDuracion" styleClass="texto-filtros"/>
            <ImageView  fitWidth="20" fitHeight="20">
                <Image url="@../../../images/recetas/grafica.png"/>
                <HBox.margin>
                    <Insets left="10"/>
                </HBox.margin>
            </ImageView>
            <Label fx:id="lblDificultad" styleClass="texto-filtros"/>
            <Pane HBox.hgrow="ALWAYS"/>
            <VBox.margin>
                <Insets left="35"/>
            </VBox.margin>
        </HBox>

        <HBox prefHeight="40">

            <Label fx:id="lblUsuario" styleClass="texto-descripcion">
                <HBox.margin>
                    <Insets left="20" top="30"/>
                </HBox.margin>
            </Label>

            <Button  styleClass="btn-exportar" graphicTextGap="10" onAction="#onExportar">
                <graphic>
                    <ImageView fitWidth="25" fitHeight="25">
                        <image>
                            <Image url="@../../../images/recetas/exportar.png"/>
                        </image>
                    </ImageView>
                </graphic>
                <HBox.margin>
                    <Insets left="100" top="20"/>
                </HBox.margin>
            </Button>

            <FlowPane fx:id="flowFavorito" alignment="CENTER" prefWidth="40" onMouseClicked="#toggleFavorito" styleClass="flowpane-favorito">
                <ImageView fx:id="imgFavorito" fitWidth="25" fitHeight="25"/>
                <HBox.margin>
                    <Insets left="10" top="19"/>
                </HBox.margin>
            </FlowPane>

            <Pane HBox.hgrow="ALWAYS"/>

        </HBox>
    </VBox>

    <StackPane fx:id="overlay" visible="false"
               style="-fx-background-color: #F7B32D; -fx-alignment: center; -fx-border-radius: 30px; -fx-background-radius: 30px;">
        <VBox spacing="10" alignment="CENTER" prefWidth="200">

            <Label fx:id="lblTituloOverlay" text="Nombre de la receta" styleClass="titulo-overlay" wrapText="true" maxWidth="250" maxHeight="88" alignment="CENTER">
                <VBox.margin>
                    <Insets bottom="40"/>
                </VBox.margin>
            </Label>

            <Button text="Editar" styleClass="btn-editar" onAction="#onEditar" graphicTextGap="10" prefWidth="200">
                <graphic>
                    <ImageView fitWidth="20" fitHeight="20">
                        <image>
                            <Image url="@../../../images/recetas/lapiz.png"/>
                        </image>
                    </ImageView>
                </graphic>
            </Button>

            <Button text="Eliminar" styleClass="btn-eliminar" onAction="#onEliminar" graphicTextGap="10" prefWidth="200">
                <graphic>
                    <ImageView fitWidth="20" fitHeight="20">
                        <image>
                            <Image url="@../../../images/recetas/basurero.png"/>
                        </image>
                    </ImageView>
                </graphic>
            </Button>
        </VBox>
    </StackPane>

</StackPane>